tinkercad - https://www.tinkercad.com/things/hYZk8ve9MwM-tremendous-bojo/editel?returnTo=https%3A%2F%2Fwww.tinkercad.com%2Fdashboard%2Fdesigns%2Fcircuits&sharecode=6TjYQOt3MepNSQf5naWPKwB0lqWm6vOnobp9xFFoDfQ

Реализация сканирования матричной клавиатуры 3×3 на микроконтроллере.  
Сканирование выполняется периодически с использованием аппаратного таймера Timer1 и прерываний, без использования опроса в основном цикле программы.

## Аппаратная логика

### Матрица кнопок

3 строки — выходы микроконтроллера 

3 столбца — входы с внутренней подтяжкой 

Кнопка замыкает соответствующую строку и столбец

### Принцип сканирования

В каждый момент времени активна только одна строка

Активная строка устанавливается в логический 0

Считываются все столбцы

Если столбец равен 0, кнопка нажата

Строка возвращается в логическую 1

Выполняется переход к следующей строке

### Таймер и прерывания

Используется Timer1 в режиме CTC

Делитель частоты: 64

Прерывание вызывается с частотой ~1 кГц

Реальное сканирование происходит раз в period прерываний

Это обеспечивает стабильный и равномерный опрос клавиатуры без задержек.

### Обработка кнопок

Состояния кнопок сохраняются в массив btn_pressed

Каждая кнопка имеет уникальный номер от 1 до 9

Номер рассчитывается по формуле:

номер = 1 + столбец + (строка × количество_столбцов)